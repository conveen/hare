<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Hare Smart Shortcut Directory">
        <meta name="author" content="Conveen">
        <title>Hare Smart Shortcut Directory</title>
        <link rel="search"
              type="application/opensearchdescription+xml"
              title="Hare"
              href="{{ url_for('static', filename='opensearch.xml') }}" />
        <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}"/>
        <link rel="stylesheet"
              href="{{ url_for('static', filename='css/bootstrap.min.css') }}"
              integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"/>
        <link rel="stylesheet" 
              href="{{ url_for('static', filename='css/datatables.min.css') }}"
              integrity="sha384-3L0qvXR+RiCHQoBFTWVYblhMPTVDHZDqVwJJKwg9D6Z6nF/z28v0egSvjvW4I+sC"/>
        <style>
            /* Sticky footer styles
            -------------------------------------------------- */
            html {
                position: relative;
                min-height: 100%;
            }
            body {
                /* Margin bottom by footer height */
                margin-bottom: 60px;
            }
            .footer {
                position: absolute;
                bottom: 0;
                width: 100%;
                /* Set the fixed height of the footer here */
                height: 60px;
                line-height: 60px; /* Vertically center the text there */
                /*background-color: #f5f5f5;*/
            }
        </style>
    </head>
    <body>
        <nav class="navbar navbar-dark justify-content-between" style="background-color: rgba(25,25,25,1);">
            <a class="navbar-brand" href="/list">
                Hare
            </a>
        </nav>

        <!-- App wrapper -->
        <div id="app-wrapper" class="container-fluid">
            <h1 class="text-center">Shortcut Directory</h1>
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#add-shortcut-modal">
                Add Shortcut
            </button>

            <!-- Directory table -->
            <table id="directory-table" class="table">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col">Aliases</th>
                        <th scope="col">Description</th>
                        <th scope="col">URL</th>
                    </tr>
                </thead>
                <tbody>
                    {% for destination in destinations %}
                        <tr>
                            <th scope="row">{{ destination.aliases }}</th>
                            <td>{{ destination.description }}</td>
                            <td>{{ destination.url }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>

            <!-- Add shortcut modal -->
            <div id="add-shortcut-modal" class="modal fade" tabindex="-1" role="dialog">
		    	<div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form action="/new" method="POST">
                                <div class="form-group">
                                    <label for="shortcut-url">URL</label>
                                    <input type="text" class="form-control" id="shortcut-url" name="url" aria-describedby="shortcut-url-help">
                                    <small id="shortcut-url-help" class="form-text text-muted">
                                        Shortcut URL, such as "https://duckduckgo.com/?q={}". Use "{}" for parameter placeholders.
                                    </small>
                                </div>
                                <div class="form-group">                                    
                                    <label for="shortcut-description">Description</label>
                                    <input type="text" class="form-control" id="shortcut-description" name="description" aria-describedby="shortcut-description-help">
                                    <small id="shortcut-description-help" class="form-text text-muted">
                                        Description of the shortcut, such as "Search DuckDuckGo."
                                        This will help others understand the shortcut URL and parameters.
                                    </small>
                                </div>
                                <div class="form-group">
                                    <label for="shortcut-aliases">Aliases</label>
                                    <input type="text" class="form-control" id="shortcut-aliases" name="aliases" aria-describedby="shortcut-aliases-help">
                                    <small id="shortcut-aliases-help" class="form-text text-muted">
                                        One or more aliases for the shortcut, separated by commas and without spaces
                                        (i.e., "d,ddg,duckduckgo").
                                    </small>
                                    <label for="shortcut-aliases">Is Fallback</label>
                                    <select class="form-control" id="shortcut-aliases" name="is_fallback">
                                        <option value="True">True</option>
                                        <option value="False" selected>False</option>
                                    </select>
                                    <small id="shortcut-is-fallback-help" class="form-text text-muted">
                                        Whether the shortcut can be used as a fallback. Note that fallbacks must take
                                        a <i>single</i> parameter, like DuckDuckGo, Google, or Bing.
                                    </small>
                                </div>
                                <button type="submit" class="btn btn-primary">Submit</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <footer class="footer navbar-fixed-bottom">
            <div class="container-fluid">
                <ul class="nav justify-content-end">
                    <li class="nav-item">
                    <span class="text-muted"> &copy; Copyright 2020 by <a target="_blank" href="https://github.com/conveen">Conveen</a>.</span>
                    </li>
                </ul>
            </div>
        </footer>

        <script type="text/javascript"
                src="{{ url_for('static', filename='js/jquery.slim.min.js') }}"
                integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"></script>
        <script type="text/javascript"
                src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"
                integrity="sha384-1CmrxMRARb6aLqgBO7yyAxTOQE2AKb9GfXnEo760AUcUmFx3ibVJJAzGytlQcNXd"></script>
        <script type="text/javascript"
                src="{{ url_for('static', filename='js/datatables.min.js') }}"
                integrity="sha384-XW25Fu/i9x9ksGjbf44qbJP2NC+O3/IwobexnFISEw/WlgFs9KAXO+6tXpCLT/Rs"></script>
        <script type="text/javascript">
            // Initialize directory table DataTable object on page load
            $(document).ready(function () {
                $("#directory-table").DataTable({
                    // Disable initial pass ordering (ordering is done server side initially)
                    order: [],
                    // Disable paging
                    paging: false,
                    // Disable the display of a 'processing' indicator when the table
                    // is being processed (i.e., during sorting)
                    processing: false,
                    // Set maximum height of table before scrolling required
                    scrollY: "100%",
                });
            });
        </script>
    </body>
</html>

